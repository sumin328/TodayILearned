# 1. 회귀직선의 오차

## 회귀직선의 오차

- 잔차(residual) : 실제값과 추정치의 차이
- RMSE(Root Mean Square Error)
    - 표준편차에 대한 개념
    - 잔차 제곱의 합을 표본크기 -2로 나누어 제곱근을 씌운 값
    - regression line으로부터 어느 정도 떨어져 있는지에 대한 계산
- 회귀직선의 RMSE와 y의 표준편차
    - y의 표준편차는 x값을 전혀 고려하지 않음
    - y의 표준편차의 개념은 회귀직선의 RMSE와 비슷한 개념
    - 일반적으로 회귀직선의 RMSE는 y의 표준편차보다 작다. 이는 수평선보다 회귀직선이 산포도상의 점들에 보다 가까이 위치하기 때문이다.
        - √(1-r^2)의 비율로 작아진다.
- 등분산성(homoskedestic) : 회귀직선을 중심으로 점들이 위 아래로 퍼진 정도가 세로띠 별로 같음
- 세로 띠 별로 정규분포를 적용
    - 평균은 회귀직선 위의 점
    - 표준편차는 RMSE
    
# 2. 회귀직선

## 회귀분석과 최소자승법

### 기울기와 절편

- 기울기 : x가 1만큼 증가할 때 y가 증가하는 정도를 의미
- 절편 : x가 0일 때 y값을 의미

### 최소자승법

- 최소자승직선 : 모든 직선 중에서 x를 통해 y를 추정할 때 발생하는 추정오차들의 "제곱의 합"으로 측정한 전반적 크기를 가장 작게 만들어주는 직선
    - 산포도상의 각각의 점으로부터 하나의 직선까지의 수직거리를 정의
    - 수직거리의 "제곱 합"이 최소화 되는 직선을 회귀직선으로 선택
    - 수직거리의 제곱합을 최소화하는 것이나 RMS로 측정된 수직거리의 전반적 크기를 최소화 하는 것이나 수학적으로 동일한 최적화 문제임
    - 즉, 최소자승법(method of least squares)은 모든 직선 가운데 수직거리의 전반적 크기를 최소화 해주는 직선을 구하는 방법임

## 중회귀분석의 직관적 이해

- 중회귀분석 : 둘 이 상의 설명 변수(x)로 독립 변수(y)를 설명하는 회귀분석
- simson's paradox, 역인과 문제, 셀렉션 문제
- 역인과 문제를 해결하기 위해 통계적인 해결책이 필요
- 제 3변수의 통제가 필요함

## 중회귀분석의 수식적 이해

# 3. 중회귀분석의 응용

## 실생활에서의 중회귀분석 사례

- 아파트 가격 = -20.394 + 1.549 * 평수 + 0.76 * 연령
    - 초기 아파트들이 대형단지에 형성
    - 단지규모가 영향을 끼치는 부분이 있을 것이라고 판단
    - 단지 규모를 통계적으로 통제 (= 새로운 설명변수 도입)
- 아파트 가격 = -20.291 + 1.538 * 평수 - 137 * 연령 + 2 * 단지규모
    - 단지 규모를 통제하고 나니 red wine효과가 나타나지 않음

## 총변동의 분해

- T = R + E
    - T : 1993년의 인플레이션율이 지난 23년의 평균과 차이난는 부분 전체
    - R : 그 전체 가운데 1993년의 통화증가율(xi)로 설명되는 부분
    - E : 그 전체 가운데 1993년의 통화증가율로는 성명되지 않는 부분

- SST = SSR + SSE
    - SST : 총제곱합 (total sum of squares)
    - SSR : 회귀제곱합 (regression sum of squares)
    - SSE : 잔차제곱합(오차제곱합) (errror sum of squares)

- 결정계수 (R squares) 
    - SSR / SST 
    - 총 변동에서 차지하는 설명되는 변동분의 비율
    - 전체 중 설명되는 것의 비율
    - x가 y를 얼마나 잘 설명하는지
    - 1에 가까울 수록 설명을 x가 y를 잘 설명한다.

- 조정된 결정계수 (adjusted R squares)
    - 설명변수를 추가하면 축가할 수록 결정계수는 증가
    - 이 문제를 해결하기 위해 조정된 결정계수를 정의
    - 1 - [SSE/(n-k-1)]/[SST/(n-1)]
    - n = 표본크기 , k = 설명변수의 개수
    - SSE와 SST가 각각의 자유도로 나누어진 형태로 등장
    - SST의 자유도 n-1 : 표준편차의 자유도와 동일
    - SSE의 자유도 n-k-1 : n개의 자료 이용 총 (k+1)개의 계수 추정한 결과
    - 조정된 결정계수는 설명변수가 추가된다고 해서 반드시 늘지는 않음

